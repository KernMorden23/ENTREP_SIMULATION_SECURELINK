<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SecureLink: Product & Simulation</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #3498db;
            --success: #27ae60;
            --warning: #e74c3c;
            --light: #ecf0f1;
            --text: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        body {
            background-color: #f8f9fa;
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            overscroll-behavior: none;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 3rem 1.5rem;
            text-align: center;
        }

        header h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        header p { max-width: 800px; margin: 0 auto; opacity: 0.9; }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            user-select: text;
        }

        .section-title {
            text-align: center;
            margin: 2rem 0;
            font-size: 2rem;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid var(--accent);
            display: inline-block;
            padding-bottom: 10px;
        }
        .center-wrapper { text-align: center; }

        .product-grid {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 4rem;
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 2rem;
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            border-top: 5px solid var(--accent);
            transition: transform 0.3s;
        }

        .card:hover { transform: translateY(-5px); }
        .card h2 { color: var(--primary); margin-bottom: 0.5rem; }

        .card .badge {
            display: inline-block;
            background: var(--secondary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 1rem;
            align-self: flex-start;
        }

        .card-content { flex-grow: 1; margin-bottom: 1.5rem; font-size: 0.95rem; color: #555; }

        .specs {
            background: #f1f1f1;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        .btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            text-transform: uppercase;
            transition: background 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }
        .btn:hover { background: #2980b9; }

        #sim-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #111;
            z-index: 9999;
            display: none;
            flex-direction: column;
            user-select: none;
        }

        #ui-layer {
            position: absolute;
            top: 20px; left: 20px; right: 20px;
            pointer-events: none;
            z-index: 10;
        }

        .hud-box {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #ccc;
            color: #333;
            padding: 15px;
            border-radius: 8px;
            max-width: 400px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            pointer-events: auto;
        }

        .hud-title { color: var(--primary); font-weight: bold; margin-bottom: 5px; text-transform: uppercase; }
        .hud-desc { font-size: 0.85rem; margin-bottom: 10px; color: #666; }

        #basic-controls {
            display: none;
            gap: 10px;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .hud-btn {
            background: white;
            color: var(--primary);
            border: 1px solid #ccc;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            flex: 1;
            transition: all 0.2s;
            font-weight: bold;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .hud-btn.active { background: var(--accent); color: white; border-color: var(--accent); }
        .hud-btn.alert-active { background: var(--warning); color: white; border-color: var(--warning); animation: pulseBtn 0.5s infinite; }
        
        @keyframes pulseBtn { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }

        .hud-status {
            font-family: monospace;
            font-size: 1.1rem;
            font-weight: bold;
            padding-top: 5px;
            display: flex;
            justify-content: space-between;
        }

        .status-good { color: var(--success); }
        .status-bad { color: var(--warning); animation: flash 0.5s infinite; }
        .status-track { color: var(--accent); }

        @keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

        #close-sim {
            position: absolute;
            top: 20px; right: 20px;
            background: white;
            color: #333;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .instruction {
            position: absolute;
            bottom: 30px;
            width: 100%;
            text-align: center;
            color: #888;
            font-size: 0.9rem;
            pointer-events: none;
            animation: pulse 2s infinite;
            background: rgba(255,255,255,0.8);
            padding: 5px;
            max-width: 300px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 20px;
        }
        @keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

        canvas { display: block; touch-action: none; }
    </style>
</head>
<body>

    <header>
        <h1>SecureLink</h1>
        <p>Prevent loss before it happens. SecureLink attaches to your valuables and alerts you the moment they go out of range.</p>
    </header>

    <div class="container">
        
        <div class="center-wrapper">
            <h2 class="section-title">Product Overview</h2>
        </div>

        <div class="product-grid">
            <div class="card">
                <h2>SecureLink Mini</h2>
                <span class="badge">Indoor / Short-Range</span>
                <div class="card-content">
                    Bluetooth-only proximity sensor. Connects to smartphone for short-range (10-30m) alerts and alarms if item is moved or left behind. Ideal for indoor/crowded areas like schools/offices.
                </div>
                <div class="specs">
                    <strong>Battery:</strong> 6-12 months (Rechargeable)<br>
                    <strong>Range:</strong> 10-30m Bluetooth
                </div>
                <button class="btn" onclick="startSim('MINI')">Simulate Mini</button>
            </div>

            <div class="card">
                <h2>SecureLink Basic+</h2>
                <span class="badge">Global Tracking</span>
                <div class="card-content">
                    Builds on Mini with added GPS/LTE for global tracking. Uses cellular for real-time location beyond Bluetooth range, with geofencing alerts. Requires SIM card.
                </div>
                <div class="specs">
                    <strong>Battery:</strong> 3-6 months<br>
                    <strong>Range:</strong> Global GPS/LTE
                </div>
                <button class="btn" onclick="startSim('BASIC')">Simulate Basic+</button>
            </div>
        </div>

    </div>

    <div id="sim-overlay">
        <button id="close-sim" onclick="stopSim()">EXIT DEMO</button>
        
        <div id="ui-layer">
            <div class="hud-box" id="hud-box">
                <div class="hud-title" id="hud-title">SYSTEM READY</div>
                <div class="hud-desc" id="hud-desc">Initializing...</div>
                
                <div id="basic-controls">
                    <button id="btn-track" class="hud-btn" onclick="toggleTracking()">TRACK</button>
                    <button id="btn-alarm" class="hud-btn" onclick="toggleManualAlarm()">ALARM</button>
                </div>

                <div class="hud-status">
                    <span id="status-label">STATUS:</span>
                    <span id="status-text" class="status-good">CONNECTED</span>
                </div>
            </div>
        </div>

        <canvas id="simCanvas"></canvas>
        <div class="instruction">TAP & DRAG THE DOT TO TEST RANGE</div>
    </div>

    <script>
        const overlay = document.getElementById('sim-overlay');
        const canvas = document.getElementById('simCanvas');
        const ctx = canvas.getContext('2d');
        const hudBox = document.getElementById('hud-box');
        const hudTitle = document.getElementById('hud-title');
        const hudDesc = document.getElementById('hud-desc');
        const statusText = document.getElementById('status-text');
        const statusLabel = document.getElementById('status-label');
        const basicControls = document.getElementById('basic-controls');
        const btnTrack = document.getElementById('btn-track');
        const btnAlarm = document.getElementById('btn-alarm');

        let width, height, centerX, centerY;
        let animationId;
        let mode = '';
        let zoneRadius = 0;
        let ripples = [];
        let lastBeepTime = 0;

        const device = { x: 0, y: 0, r: 18, dragging: false };
        let isTrackingActive = false;
        let isManualAlarmActive = false;

        let audioCtx;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        function playBeep() {
            if (!audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            osc.type = 'square'; 
            osc.frequency.setValueAtTime(880, audioCtx.currentTime); 
            osc.frequency.exponentialRampToValueAtTime(440, audioCtx.currentTime + 0.1); 

            gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);

            osc.start();
            osc.stop(audioCtx.currentTime + 0.15);
        }

        function toggleTracking() {
            isTrackingActive = !isTrackingActive;
            btnTrack.className = isTrackingActive ? "hud-btn active" : "hud-btn";
        }

        function toggleManualAlarm() {
            initAudio();
            isManualAlarmActive = !isManualAlarmActive;
            btnAlarm.className = isManualAlarmActive ? "hud-btn alert-active" : "hud-btn";
        }

        function getPos(e) {
            if (e.touches && e.touches.length > 0) {
                return { x: e.touches[0].clientX, y: e.touches[0].clientY };
            }
            return { x: e.clientX, y: e.clientY };
        }

        function handleStart(e) {
            initAudio(); 
            const pos = getPos(e);
            const dist = Math.hypot(pos.x - device.x, pos.y - device.y);
            if (dist < device.r * 2) {
                device.dragging = true;
            }
        }

        function handleMove(e) {
            if (device.dragging) {
                const pos = getPos(e);
                device.x = pos.x;
                device.y = pos.y;
                if (e.cancelable) e.preventDefault(); 
            }
        }

        function handleEnd() { device.dragging = false; }

        canvas.addEventListener('mousedown', handleStart);
        window.addEventListener('mousemove', handleMove);
        window.addEventListener('mouseup', handleEnd);
        canvas.addEventListener('touchstart', handleStart, {passive: false});
        canvas.addEventListener('touchmove', handleMove, {passive: false});
        canvas.addEventListener('touchend', handleEnd);

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            centerX = width / 2;
            centerY = height / 2;
        }
        window.addEventListener('resize', resize);

        function startSim(selectedMode) {
            mode = selectedMode;
            overlay.style.display = 'flex';
            initAudio();
            resize();
            
            device.x = centerX + 50;
            device.y = centerY;
            isTrackingActive = false;
            isManualAlarmActive = false;
            btnTrack.className = "hud-btn";
            btnAlarm.className = "hud-btn";
            
            if (mode === 'MINI') {
                hudTitle.innerText = "SecureLink Mini";
                hudDesc.innerText = "Bluetooth Proximity (10-30m). Auto-alarm enabled.";
                zoneRadius = Math.min(width, height) * 0.25;
                basicControls.style.display = 'none';
                hudBox.style.background = "rgba(0,0,0,0.85)";
                hudBox.style.color = "white";
                hudTitle.style.color = "#3498db";
            } else {
                hudTitle.innerText = "SecureLink Basic+";
                hudDesc.innerText = "Global GPS Mode. Tracking active everywhere.";
                zoneRadius = 0;
                basicControls.style.display = 'flex';
                hudBox.style.background = "rgba(255,255,255,0.95)";
                hudBox.style.color = "#333";
                hudTitle.style.color = "#2c3e50";
            }

            animate(0);
        }

        function stopSim() {
            overlay.style.display = 'none';
            cancelAnimationFrame(animationId);
        }

        function drawMapBackground() {
            ctx.fillStyle = '#e5e5e5';
            ctx.fillRect(0, 0, width, height);
            
            for(let x=0; x<width; x+=100) {
                for(let y=0; y<height; y+=100) {
                    if ((x+y)%200 === 0) {
                        ctx.fillStyle = '#dcdcdc';
                        ctx.fillRect(x+10, y+10, 80, 80);
                    } else {
                         ctx.fillStyle = '#c8e6c9';
                         ctx.fillRect(x+10, y+10, 80, 80);
                    }
                }
            }

            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 15;
            ctx.beginPath();
            for(let x=0; x<=width; x+=100) { ctx.moveTo(x,0); ctx.lineTo(x,height); }
            for(let y=0; y<=height; y+=100) { ctx.moveTo(0,y); ctx.lineTo(width,y); }
            ctx.stroke();
        }

        function animate(timestamp) {
            if (mode === 'MINI') {
                ctx.fillStyle = '#0f172a';
                ctx.fillRect(0, 0, width, height);

                ctx.strokeStyle = '#1e293b';
                ctx.lineWidth = 1;
                for(let i=0; i<width; i+=40) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,height); ctx.stroke(); }
                for(let i=0; i<height; i+=40) { ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(width,i); ctx.stroke(); }

                ctx.beginPath();
                ctx.arc(centerX, centerY, zoneRadius, 0, Math.PI * 2);
                ctx.strokeStyle = 'rgba(52, 152, 219, 0.5)';
                ctx.lineWidth = 2;
                ctx.setLineDash([15, 10]);
                ctx.stroke();
                ctx.setLineDash([]);
                ctx.fillStyle = 'rgba(52, 152, 219, 0.05)';
                ctx.fill();
            } else {
                drawMapBackground();
            }

            ctx.beginPath();
            ctx.arc(centerX, centerY, 15, 0, Math.PI * 2);
            ctx.fillStyle = '#3498db';
            ctx.fill();
            ctx.fillStyle = mode === 'MINI' ? 'white' : '#333';
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            ctx.fillText("YOU", centerX, centerY + 4);

            const dx = device.x - centerX;
            const dy = device.y - centerY;
            const dist = Math.hypot(dx, dy);

            if (mode === 'MINI') {
                const isSafe = dist < zoneRadius;
                statusLabel.innerText = "STATUS:";
                if (isSafe) {
                    statusText.innerText = "SECURE";
                    statusText.className = "status-good";
                    drawLink('#27ae60');
                } else {
                    statusText.innerText = "ALARM ACTIVE";
                    statusText.className = "status-bad";
                    triggerVisualRipple();
                    if (timestamp - lastBeepTime > 400) { playBeep(); lastBeepTime = timestamp; }
                }
            } else {
                if (isTrackingActive) {
                    statusLabel.innerText = "DISTANCE:";
                    statusText.innerText = Math.floor(dist) + "m";
                    statusText.className = "status-track";
                    drawLink('#3498db');
                } else {
                    statusLabel.innerText = "STATUS:";
                    statusText.innerText = "GPS ACTIVE";
                    statusText.className = "status-good";
                }

                if (isManualAlarmActive) {
                    triggerVisualRipple();
                    if (timestamp - lastBeepTime > 400) { playBeep(); lastBeepTime = timestamp; }
                }
            }

            ctx.beginPath();
            ctx.arc(device.x, device.y, device.r, 0, Math.PI * 2);
            if (mode === 'MINI') {
                ctx.fillStyle = (dist >= zoneRadius) ? '#e74c3c' : 'white';
                ctx.strokeStyle = 'white';
            } else {
                ctx.fillStyle = '#e74c3c';
                ctx.strokeStyle = 'white';
            }
            ctx.fill();
            ctx.lineWidth = 3;
            ctx.stroke();

            for (let i = 0; i < ripples.length; i++) {
                let r = ripples[i];
                r.r += 2;
                r.a -= 0.03;
                ctx.beginPath();
                ctx.arc(r.x, r.y, r.r, 0, Math.PI * 2);
                ctx.strokeStyle = `rgba(231, 76, 60, ${r.a})`;
                ctx.lineWidth = 2;
                ctx.stroke();
                if (r.a <= 0) ripples.splice(i, 1);
            }

            animationId = requestAnimationFrame(animate);
        }

        function drawLink(color) {
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(device.x, device.y);
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        function triggerVisualRipple() {
            if (Math.random() > 0.85) {
                ripples.push({x: device.x, y: device.y, r: 10, a: 1});
            }
        }
    </script>
</body>
</html>
